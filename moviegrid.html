<!DOCTYPE html>
<html>
   <head>
    <link href = "https://cdnjs.cloudflare.com/ajax/libs/extjs/6.0.0/classic/theme-triton/resources/theme-triton-all.css" 
    rel = "stylesheet" />
    <style type="text/css">
        .icon-add {
            background: url(add.png) no-repeat;
            
        }
         
        .icon-edit {
            background-image: url(edit.png) !important;
        }
        </style>
    
      <script type = "text/javascript" 
         src = "https://cdnjs.cloudflare.com/ajax/libs/extjs/6.0.0/ext-all.js"></script>
         <script type = "text/javascript" 
         src = "https://cdnjs.cloudflare.com/ajax/libs/extjs/6.0.0/ext-all-debug.js"></script>
         
              
      
      <script type = "text/javascript">
          Ext.onReady(function () {var formAdd= new Ext.create('Ext.form.Panel', {
               renderTo: Ext.getBody(),
               bodyPadding: 5,
               width: 'fit',
               height : 300,
               border : true,
               frame : true,
               layout: 'auto',
               buttonAlign:'center', 
               title:  'Movie Advanced Search EMP ID:14697 NAME: JAI BISHT', // auto is one of the layout type.
               items: [
                 {
                  xtype: 'textfield',
                    name: 'Movie Name',
                    fieldLabel: 'Movie Name',
                    allowBlank: false
                 },
                 {
                  xtype: 'textfield',
                    name: 'Director Name',
                    fieldLabel: 'Director Name',
                    allowBlank: false, 
                    margin:'-25 10 10 450'
                 },
                 {
                  xtype: 'datefield',
                fieldLabel: 'Release Year',
                margin:'0 0 0 0'
                 },
                 {
                  xtype: 'combo',
                    fieldLabel: 'Language',
                    hiddenName: 'rating',
                    store: new Ext.data.SimpleStore({
                        data: [
                           [1,"English"],
                           [2,"Spanish"],
                           [3,"Hindi"],
                           [4,"Tamil"],
                           [5,"Telugu"]
        
                        ],
                        id: 0,
                        fields: ['value', 'text']
                 }),
                 valueField: 'value',
                    displayField: 'text',
                    triggerAction: 'all',
                    editable: false,
                    margin:'-20 10 10 450'
                },
                          
               ],
               buttons: [{
        text: 'Reset',
        handler: function() {
            this.up('form').getForm().reset();
        }
    }, {
        text: 'Search',
        formBind: true, //only enabled once the form is valid
        disabled: false,
        handler: function() {
            var form = this.up('form').getForm();
            if (form.isValid()) {
                form.submit({
                    success: function(form, action) {
                       Ext.Msg.alert('Success', action.result.msg);
                    },
                    failure: function(form, action) {
                        Ext.Msg.alert('Failed', action.result.msg);
                    }
                });
            }
        }
    }],
    renderTo: Ext.getBody()               
   }); 
            Ext.create('Ext.Panel', {
    renderTo: document.body,
    width   : 'fit',
    layout:'fit',
    bbar: {
        xtype: 'pagingtoolbar',
        displayInfo: true,
        items: [
        {
            xtype: 'button',
            text: 'Add',
            iconCls: 'icon-add',
            handler:function()
            {
                addwindow.show();
            }
        },
        '-',
        {
            xtype: 'button',
            iconCls: 'icon-edit',
            text : 'Delete'
        },
        '-',
        // same as { xtype: 'tbfill' }
        {
            xtype    : 'button',
            text    : 'Edit',
            iconCls: 'icon-edit',
            handler:function()
            {
                editwindow.show();
            }
        },
        // add a vertical separator bar between toolbar items
        '-',
        // same as {xtype: 'tbseparator'} to create Ext.toolbar.Separator
        
    ]

    },
    renderTo: Ext.getBody() 
    
    
});
            var store = Ext.create('Ext.data.Store', {
	    fields: ['ttitle', 'description', 'releaseyear','language','director','rating','specialscene'],
	    data: [{
	        ttitle: 'Academy Dinosaur',
	        description: 'Academy Dinosaur is a movie about dinosaur ofcourse',
	        releaseyear: '2010',
            language: 'English',
            director: 'Nolan',
            rating: 'PG',
            specialscene: 'Deleted'
	    }, {
	        ttitle: 'Academy Dinosaur',
	        description: 'Academy Dinosaur is a movie about dinosaur ofcourse',
	        releaseyear: '2010',
            language: 'English',
            director: 'Nolan',
            rating: 'PG',
            specialscene: 'Deleted'
	    }, {
	        ttitle: 'Academy Dinosaur',
	        description: 'Academy Dinosaur is a movie about dinosaur ofcourse',
	        releaseyear: '2010',
            language: 'English',
            director: 'Nolan',
            rating: 'PG',
            specialscene: 'Deleted'
	    }, {
	        ttitle: 'Academy Dinosaur',
	        description: 'Academy Dinosaur is a movie about dinosaur ofcourse',
	        releaseyear: '2010',
            language: 'English',
            director: 'Nolan',
            rating: 'PG',
            specialscene: 'Deleted'
	    }, {
	        ttitle: 'Academy Dinosaur',
	        description: 'Academy Dinosaur is a movie about dinosaur ofcourse',
	        releaseyear: '2010',
            language: 'English',
            director: 'Nolan',
            rating: 'PG',
            specialscene: 'Deleted'
	    }]
	});

	Ext.create('Ext.grid.Panel', {
	    title: 'Movie Grid',
	    store: store,
	    id: 'testGrid',
	    columns: [{
	        text: 'Title',
	        dataIndex: 'ttitle'
	    }, {
	        text: 'Description',
	        dataIndex: 'description',
	        flex: 1
	    }, {
	        text: 'Release Year',
	        dataIndex: 'releaseyear'
	    },{
            text:'Language',
            dataIndex: 'language'
        },{
            text:'Director',
            dataIndex:'director'

        },{
            text:'Rating',
            dataIndex: 'rating'
        },{
            text:'Special Scene',
            dataIndex: 'specialscene'

        }],
	    height: 300,
	    width: 'fit',
	    renderTo: Ext.getBody(),
	    selModel: {
	        checkOnly: false,
	        injectCheckbox: 'first',
	        mode: 'SIMPLE'
	    },
        
	    selType: 'checkboxmodel',
	    addEventListener: [{
	        
	        handler: function () {
	            Ext.getCmp('testGrid').getSelectionModel().selectAll();
	        }
	    }, {
	        
	        handler: function () {
	            Ext.getCmp('testGrid').getSelectionModel().deselectAll();
	        }
	    }, {
	        
	        handler: function () {
	            var selection = Ext.getCmp('testGrid').getSelection();
	            if (selection.length) {
	                let name = '';
	                selection.map(item => {
	                    name += item.get('name') + '<br>';
	                });
	                Ext.Msg.alert('Selected Record', name);
	            } else {
	                Ext.Msg.alert('Error', 'Please select record');
	            }
	        }
	    }]
        
        
    });
    var addwindow=Ext.create(Ext.window.Window,{
            title:'Add Film',
            height:500,
            width:500,
            buttonAlign:'center',
            items:[
                {
                    xtype: 'textfield',
                    name: 'Title',
                    fieldLabel: 'Title',
                    margin: '10 20 10 20',
                    allowBlank: false,
                    width:350
                },
                {
                    xtype: 'datefield',
                   fieldLabel: 'Release Year',
                   margin: '10 20 10 20',
                   width:350
                    
                },
                {
                    xtype: 'combo',
                    fieldLabel: 'Special Features',
                    hiddenName: 'Special Features',
                    margin: '10 20 10 20',
                    store: new Ext.data.SimpleStore({
                        data: [
                           [1,"Deleted Scene"],
                           [2,"Uncut Movie"],
                           [3,"Movie with subtitle"],
                           
        
                        ],
                        id: 0,
                        fields: ['value', 'text']
                    }),
                    valueField: 'value',
                    displayField: 'text',
                    triggerAction: 'all',
                    editable: false,
                   
                },
                {
                    xtype: 'combo',
                    fieldLabel: 'Rating',
                    hiddenName: 'rating',
                    margin: '10 20 10 20',
                    store: new Ext.data.SimpleStore({
                        data: [
                           [1,"G"],
                           [2,"PG"],
                           [3,"PG-13"],
                           [4,"R"],
                           [5,"NC-17"]
        
                        ],
                        id: 0,
                        fields: ['value', 'text']
                    }),
                    valueField: 'value',
                    displayField: 'text',
                    triggerAction: 'all',
                    editable: false,
                   
                },
                {
                    xtype: 'combo',
                    fieldLabel: 'Language',
                    hiddenName: 'rating',
                    margin: '10 20 10 20',
                    store: new Ext.data.SimpleStore({
                        data: [
                           [1,"English"],
                           [2,"Spanish"],
                           [3,"Hindi"],
                           [4,"Tamil"],
                           [5,"Telugu"]
        
                        ],
                        id: 0,
                        fields: ['value', 'text']
                    }),
                    valueField: 'value',
                    displayField: 'text',
                    triggerAction: 'all',
                    editable: false,
                    
                },
                {
                    xtype: 'textfield',
                    name: 'Director Name',
                    fieldLabel: 'Director Name',
                    margin: '10 20 10 20',
                    allowBlank: false,
                    width:350
                },
                {
                    xtype: 'textfield',
                    name: 'Description',
                    fieldLabel: 'Description',
                    margin: '10 20 10 20',
                    allowBlank: false,
                    width:350,height:70
                }
                
                
                
            ],
            buttons: [{
        text: 'Add',
        handler: function() {
            this.up('form').getForm().reset();
        }
    }, {
        text: 'Cancel',
        formBind: true, //only enabled once the form is valid
        disabled: false,
        
    }],
    renderTo: Ext.getBody()               
}); 
var editwindow=Ext.create(Ext.window.Window,{
            title:'Edit Film',
            height:500,
            width:500,
            buttonAlign:'center',
            items:[
                {
                    xtype: 'textfield',
                    name: 'Title',
                    fieldLabel: 'Title',
                    margin: '10 20 10 20',
                    allowBlank: false,
                    width:350
                },
                {
                    xtype: 'datefield',
                   fieldLabel: 'Release Year',
                   margin: '10 20 10 20',
                   width:350
                    
                },
                {
                    xtype: 'combo',
                    fieldLabel: 'Special Features',
                    hiddenName: 'Special Features',
                    margin: '10 20 10 20',
                    store: new Ext.data.SimpleStore({
                        data: [
                           [1,"Deleted Scene"],
                           [2,"Uncut Movie"],
                           [3,"Movie with subtitle"],
                           
        
                        ],
                        id: 0,
                        fields: ['value', 'text']
                    }),
                    valueField: 'value',
                    displayField: 'text',
                    triggerAction: 'all',
                    editable: false,
                   
                },
                {
                    xtype: 'combo',
                    fieldLabel: 'Rating',
                    hiddenName: 'rating',
                    margin: '10 20 10 20',
                    store: new Ext.data.SimpleStore({
                        data: [
                           [1,"G"],
                           [2,"PG"],
                           [3,"PG-13"],
                           [4,"R"],
                           [5,"NC-17"]
        
                        ],
                        id: 0,
                        fields: ['value', 'text']
                    }),
                    valueField: 'value',
                    displayField: 'text',
                    triggerAction: 'all',
                    editable: false,
                   
                },
                {
                    xtype: 'combo',
                    fieldLabel: 'Language',
                    hiddenName: 'rating',
                    margin: '10 20 10 20',
                    store: new Ext.data.SimpleStore({
                        data: [
                           [1,"English"],
                           [2,"Spanish"],
                           [3,"Hindi"],
                           [4,"Tamil"],
                           [5,"Telugu"]
        
                        ],
                        id: 0,
                        fields: ['value', 'text']
                    }),
                    valueField: 'value',
                    displayField: 'text',
                    triggerAction: 'all',
                    editable: false,
                    
                },
                {
                    xtype: 'textfield',
                    name: 'Director Name',
                    fieldLabel: 'Director Name',
                    margin: '10 20 10 20',
                    allowBlank: false,
                    width:350
                },
                {
                    xtype: 'textfield',
                    name: 'Description',
                    fieldLabel: 'Description',
                    margin: '10 20 10 20',
                    allowBlank: false,
                    width:350,height:70
                }
                
                
                
            ],
            buttons: [{
        text: 'Edit',
        handler: function() {
            this.up('form').getForm().reset();
        }
    }, {
        text: 'Cancel',
        formBind: true, //only enabled once the form is valid
        disabled: false,
        
    }],
    
    renderTo: Ext.getBody()               
}); 

            
});
             
      </script>
   </head>
   <body>

   </body>
</html>